spring.application.name=conversation

####################################
# Server
####################################
server.port=${SERVER_PORT:8080}
server.shutdown=graceful
server.compression.enabled=true
server.compression.mime-types=application/json,audio/mpeg

####################################
# Redis
####################################
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.timeout=5000ms

spring.data.redis.lettuce.pool.enabled=true
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=2

####################################
# Multipart (Audio Uploads)
####################################
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

####################################
# Actuator & Metrics
####################################
management.endpoints.web.exposure.include=health,metrics,prometheus
management.prometheus.metrics.export.enabled=true

####################################
# AWS Common
####################################
aws.region=${AWS_REGION:us-east-1}
aws.api-timeout-seconds=30
aws.max-retries=3

####################################
# AWS Polly
####################################
aws.polly.voice-id=${POLLY_VOICE_ID:Joanna}
aws.polly.engine=${POLLY_ENGINE:neural}

####################################
# AWS Bedrock
####################################
aws.bedrock.model-id=${BEDROCK_MODEL_ID:anthropic.claude-3-5-sonnet-20240620-v1:0}
aws.bedrock.max-tokens=500
aws.bedrock.temperature=0.3

####################################
# Questionnaire
####################################
questionnaire.confidence-threshold=0.6

####################################
# Audio Constraints
####################################
audio.max-size-bytes=10485760
audio.min-size-bytes=1000

####################################
# Session
####################################
session.timeout-minutes=${SESSION_TIMEOUT_MINUTES:30}

####################################
# CORS
####################################
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000}
cors.max-age-seconds=3600

####################################
# Logging
####################################
logging.level.root=INFO
logging.level.com.healthquest=DEBUG
logging.level.software.amazon.awssdk=WARN

logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

